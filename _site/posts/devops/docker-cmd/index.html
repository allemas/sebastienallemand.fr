<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="Description" content="Dev et ops, passionné d&#39;architecture et de solutions. Je blogue autour de mes expériences Refactoring - TDD - DDD - Infra - Haute disponibilité &amp; Résilience">

  <meta name="title" content="Blog | Sébastien ALLEMAND">
  <meta name="description" content="Dev et ops, passionné d&#39;architecture et de solutions. Je blogue autour de mes expériences Refactoring - TDD - DDD - Infra - Haute disponibilité &amp; Résilience">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://sebastienallemand.fr/">
  <meta property="og:title" content="Coldstart - Docker Basics | Sébastien ALLEMAND">
  <meta property="og:description" content="Dev et ops, passionné d&#39;architecture et de solutions. Je blogue autour de mes expériences Refactoring - TDD - DDD - Infra - Haute disponibilité &amp; Résilience">
  <meta property="og:image" content="https://pbs.twimg.com/profile_banners/121151340/1534700835/1500x500">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://sebastienallemand.fr/">
  <meta property="twitter:title" content="Coldstart - Docker Basics | Sébastien ALLEMAND">
  <meta property="twitter:description" content="Dev et ops, passionné d&#39;architecture et de solutions. Je blogue autour de mes expériences Refactoring - TDD - DDD - Infra - Haute disponibilité &amp; Résilience">
  <meta property="twitter:image" content="https://pbs.twimg.com/profile_banners/121151340/1534700835/1500x500">

  <link rel="alternate" type="application/rss+xml" href="/feed/feed.xml">

  <title>Coldstart - Docker Basics | Sébastien ALLEMAND</title>
  <style>body,
html {
  margin: 0;
  padding: 0;
}

body {
  color: #444;
  font-family: Georgia, Cambria, Times New Roman, Times, serif;
  font-size: calc(16px + 4 * ((100vw - 320px) / 2680));
  line-height: 1.6;
  text-align: center
}

@media (min-width: 800px) {
  body {
    font-size: 20px
  }
}

a:link,
a:visited {
  color: #222
}

footer,
header {
  color: #888;
  font-size: .7em;
  padding-bottom: 2em;
  padding-top: 2em
}

header {
  border-bottom: 1px solid #eee
}

.header-logo {
  border-bottom: 0px solid #eee;
  padding: 0.5rem 0rem 0.5rem 0rem;
}

.header-posts {
  padding: 1rem 0 1rem 0;
}

footer {
  border-top: 1px solid #eee;
  margin-top: 6em
}

h1,
h2,
h3,
h4 {
  color: #111;
  font-family: sans-serif;
  line-height: 1
}

h2 {
  font-size: 34px;
  letter-spacing: -.01em
}

h2 small {
  color: #888;
  font-size: .5em;
  font-weight: 400
}

h3 {
  margin-top: 2em
}

figure {
  margin-left: 0;
  margin-right: 0
}

figcaption {
  color: #888;
  font-size: .7em;
  text-align: center
}

blockquote {
  border-left: 3px solid #888;
  font-style: italic;
  margin-bottom: 0;
  margin-left: -2em;
  margin-top: 0;
  padding-bottom: .5em;
  padding-left: 2em;
  padding-top: .5em
}

blockquote em {
  font-style: normal
}

pre {
  background-color: #eee;
  font-size: .7em;
  margin-bottom: 0;
  margin-top: 0;
  overflow-x: scroll;
  padding-left: 1em;
  padding-right: 1em
}

.container {
  margin-left: auto;
  margin-right: auto;
  text-align: left;
  width: 90%
}

@media (min-width: 800px) {
  .container {
    width: 800px
  }
}

hr {
  border-bottom: 1px solid #eee;
  border-style: none;
  margin-bottom: 3em;
  margin-top: 2em
}

.post-content img {
  width: 100%
}

p.meta {
  color: #444;
  font-size: .8em;
  font-style: italic;
}

ul.listing {
  list-style: none;
  list-style-position: outside;
  padding-left: 0;
  padding-top: 1.5em
}

ul.listing li {
  margin-bottom: 1em
}

ul.listing h3 {
  margin-top: .2rem;
  margin-bottom: .2rem;
  padding: 0;
}

ul.listing p.meta {
  margin: 0;
  padding: 0;
}

a {
  text-decoration: none;
}

.menu-container {
  text-align: center;
  padding-top: 1.5rem;
  padding-bottom: 1.5rem;
}

.tag {
  text-transform: capitalize;
  border-bottom: 1px dotted #515151;
}

.tag:hover {
  text-transform: capitalize;
  border-bottom: 1px solid #000;
}

.tag-homepage {
  text-transform: lowercase;
  border-bottom: 1px dotted #515151;
  font-size: 1.1rem;
}

.tag-homepage:hover {
  border-bottom: 1px solid #000;
  font-size: 1.1rem;
}

.nav-element-left {
  width: 395px;
  right: 0;
  display: inline-block;
  position: relative;
  text-align: left;
}

.nav-element-right {
  width: 395px;
  right: 0;
  display: inline-block;
  position: relative;
  text-align: right;
}

img[src*='#left'] {
  float: left;
}
img[src*='#right'] {
  float: right;
}
img[src*='#center'] {
  position: relative;
  display: block;
  margin: auto;
}
img[src*='#banner'] {
  position: relative;
  display: block;
  width: 100%;
}


.pager {
  text-align: center;
}

.footer-article {
  margin-top: 3rem;
}
</style>
  <style>@import url('https://fonts.googleapis.com/css?family=Poppins');
.logo-wrapper {
    width: auto;
    margin: 0 auto;
    text-align: center;
    font-weight: 500;
    font-family: 'Poppins', sans-serif;
}

.hp-logo {
    padding-top: 2rem
}

.logo-wrapper a {
    text-decoration: none;
}

.logo-wrapper>a>.logo {
    width: auto;
    display: inline-block;
    text-align: right;
    font-family: 'Poppins', sans-serif;
    font-weight: bold;
}

.logo-wrapper>a>.logo>.name-title {
    margin: 0px;
    font-size: calc(1.6rem + .6 * ((100vw - 320px) / 2680));
    font-weight: bold;
    font-family: 'Poppins', sans-serif;
}

.logo-wrapper span.background-title,
.blog-title {
    text-transform: uppercase;
    font-size: calc(4.5rem + .5 * ((100vw - 320px) / 2680));
    letter-spacing: -11px;
    line-height: 3.8rem;
    display: inline;
    text-align: left;
}

span.background-title .background-title-spare,
.blog-title .background-title-spare {
    display: inline;
    color: #f02;
}

.baseline {
    color: #444;
    text-align: center;
    font-weight: 300;
    font-size: calc(1.2rem + .3 * ((100vw - 320px) / 2680));
}

.logo-post-header {
    text-align: left;
}

.logo-post-header>a>.logo>.name-title {
    font-size: calc(1.2rem + .6 * ((100vw - 320px) / 2680));
}

.logo-post-header span.background-title,
.blog-title {
    letter-spacing: -8px;
    font-size: calc(2.8rem + .5 * ((100vw - 320px) / 2680));
}</style>
</head>
<body>
<header class="container header-logo">
  <div class="logo-wrapper hp-logo">
    <a href="/" class="site-link">
      <div class="logo">
        <h1 class="name-title">SEBASTIEN</h1>
        <h1 class="name-title">ALLEMAND</h1>
      </div>
      <div class="blog-title">
        <span class="background-title">Blog <span class="background-title-spare">.</span></span>
      </div>
    </a>
  </div>
</header>

<div class="container menu-container">
  <a href="/">← Blog</a> - <a href="/tags/crafting">Software Crafting</a> - <a href="/tags/devops">Devops</a> - <a href="/pages/a-propos">A propos</a>
</div>
<div class="content" role="main" id="main">
    <article class="container">
        <h1>Coldstart - Docker Basics</h1>
  <div class="meta">
    
    <time datetime="18-01-2020">18-01-2020</time>
    
     - <span>Temps de lecture environ 2 min</span>
  </div>
  <h1 id="docker-basics-cmd">Docker Basics Cmd <a class="direct-link" href="#docker-basics-cmd">#</a></h1>
<h1 id=".dockerignore">.dockerignore <a class="direct-link" href="#.dockerignore">#</a></h1>
<p><em>example:</em></p>
<pre><code>node_modules
npm-debug.log
Dockerfile
.dockerignore
</code></pre>
<h1 id="build-image">Build image <a class="direct-link" href="#build-image">#</a></h1>
<p><code>docker build -t &lt;docker_repository&gt;/&lt;image_name&gt; .</code><br>
The <code>.</code> specifies that the build context is the current directory.</p>
<h1 id="list-available-images">List available images <a class="direct-link" href="#list-available-images">#</a></h1>
<p><code>docker images</code></p>
<h1 id="run-container">Run container <a class="direct-link" href="#run-container">#</a></h1>
<p><code>docker run --name &lt;container_name&gt; -p &lt;local_port&gt;:&lt;container_port&gt; -d &lt;docker_repository&gt;/&lt;image_name&gt;</code></p>
<h1 id="run-shell">Run shell <a class="direct-link" href="#run-shell">#</a></h1>
<p>if stoped :<br>
<code>docker exec -it &lt;name_container&gt; bash</code><br>
<em>bash not stoped after exit because interactive mode</em></p>
<h1 id="remove-container-and-image">Remove container and image <a class="direct-link" href="#remove-container-and-image">#</a></h1>
<p><code>docker rm -v container_name</code><br>
<em>remove all inactive containers</em><code>docker container prune</code></p>
<h1 id="container-network">Container network <a class="direct-link" href="#container-network">#</a></h1>
<h2 id="create-network">Create network <a class="direct-link" href="#create-network">#</a></h2>
<p><code>docker network create &lt;name&gt;</code></p>
<h2 id="connect-container-to-bridge">connect container to bridge <a class="direct-link" href="#connect-container-to-bridge">#</a></h2>
<p>When you create a new container, you can specify one or more --network flags. This example connects a Nginx container to the my-net network. It also publishes port 80 in the container to port 8080 on the Docker host, so external clients can access that port. Any other container connected to the my-net network has access to all ports on the my-nginx container, and vice versa.<br>
<code>docker network connect &lt;network_name&gt; &lt;container2&gt;</code></p>
<h2 id="inspect-network">inspect network <a class="direct-link" href="#inspect-network">#</a></h2>
<p><code>docker network inspect</code></p>
<pre><code>
    {
        &quot;Name&quot;: &quot;my-net&quot;,
        &quot;Id&quot;: &quot;b57e393b7c9ab38d596ad13b5a5341812cdc44600370afd74c25be0daada5663&quot;,
        &quot;Created&quot;: &quot;2020-02-10T18:17:27.283066902Z&quot;,
[...]
        &quot;IPAM&quot;: {
            &quot;Driver&quot;: &quot;default&quot;,
            &quot;Options&quot;: {},
            &quot;Config&quot;: [
                {
                    &quot;Subnet&quot;: &quot;172.18.0.0/16&quot;,
                    &quot;Gateway&quot;: &quot;172.18.0.1&quot;
                }
            ]
        },
[...]
        &quot;ConfigOnly&quot;: false,
        &quot;Containers&quot;: {
            &quot;13dee2f...7f907&quot;: {
                &quot;Name&quot;: &quot;n2&quot;,
                &quot;EndpointID&quot;: &quot;1d2b53ec0...e398c3bbf312&quot;,
                &quot;MacAddress&quot;: &quot;02:42:ac:12:00:03&quot;,
                &quot;IPv4Address&quot;: &quot;172.18.0.3/16&quot;,
                &quot;IPv6Address&quot;: &quot;&quot;
            },
            &quot;89d2c008d9e6...049d5679a9a13ad&quot;: {
                &quot;Name&quot;: &quot;n1&quot;,
                &quot;EndpointID&quot;: &quot;30d1cd...9b5e246fd7b7fc133&quot;,
                &quot;MacAddress&quot;: &quot;02:42:ac:12:00:02&quot;,
                &quot;IPv4Address&quot;: &quot;172.18.0.2/16&quot;,
                &quot;IPv6Address&quot;: &quot;&quot;
            }
        },
        &quot;Options&quot;: {},
        &quot;Labels&quot;: {}
    }
]
</code></pre>
<h2 id="networking-container">Networking container <a class="direct-link" href="#networking-container">#</a></h2>
<p>Connected to bridge manualy</p>
<pre><code>root@1f87bccac67c:/# cat /etc/hosts
127.0.0.1	localhost
::1	localhost ip6-localhost ip6-loopback
fe00::0	ip6-localnet
ff00::0	ip6-mcastprefix
ff02::1	ip6-allnodes
ff02::2	ip6-allrouters
172.17.0.2	1f87bccac67c
172.18.0.2	1f87bccac67c
</code></pre>
<p>Disconnected to bridge manualy</p>
<pre><code>root@1f87bccac67c:/# cat /etc/hosts
127.0.0.1	localhost
::1	localhost ip6-localhost ip6-loopback
fe00::0	ip6-localnet
ff00::0	ip6-mcastprefix
ff02::1	ip6-allnodes
ff02::2	ip6-allrouters
</code></pre>
<ul>
<li><a href="https://runnable.com/docker/basic-docker-networking">basic networking</a></li>
</ul>
<h3 id="links">Links <a class="direct-link" href="#links">#</a></h3>
<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-build-a-node-js-application-with-docker-quickstart">how-to-build-a-node-js-application-with-docker-quickstart</a></li>
</ul>
<h1 id="docker-volumes">Docker Volumes <a class="direct-link" href="#docker-volumes">#</a></h1>
<p>create : <code>docker volume create &lt;name&gt;</code><br>
list : <code>docker volume ls </code><br>
remove all unused : <code>docker volume prune</code></p>
<h2 id="docker-mount-volume-to-container">Docker mount volume to container <a class="direct-link" href="#docker-mount-volume-to-container">#</a></h2>
<p>docker run --name snginx -p 8080:80 --mount source=my-vol,target=/var/www/html s/nginx</p>

  <div class="footer-article">
    
    <i>Mots clés :   <a href="/tags/devops/" class="tag">devops</a>  <a href="/tags/experiments/" class="tag">experiments</a>  <a href="/tags/devops/" class="tag">devops</a>  <a href="/tags/containers/" class="tag">containers</a></i><br>
    
    <i>Auteur : Allemand Sébastien</i>
  </div>
</article>
<hr>
</div>
<div class="container">
  
    <p class="ctr nav-element-left">
      <a class="previous" href="/posts/craft/practical-test-pyramid/">← Prev.</a>
    </p>
  

  
    <p class="ctr nav-element-right">
      <a class="next" href="/posts/craft/legacy-code/">Suiv. →</a>
    </p>
  
</div>

  </div>
</div>
<footer>
  <div class="container">
    © 2020 <a href="https://twitter.com/allema_s">Sébastien Allemand</a> généré avec <a href="https://11ty.io">Eleventy</a>.
  </div>
</footer>
</body>
</html>

